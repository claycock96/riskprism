{
  "terraform_version": "1.5.0",
  "format_version": "1.2",
  "resource_changes": [
    {
      "address": "aws_security_group.web",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "web",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "before": null,
        "after": {
          "name": "web-sg",
          "description": "Security group for web servers",
          "vpc_id": "vpc-12345678",
          "ingress": [
            {
              "from_port": 22,
              "to_port": 22,
              "protocol": "tcp",
              "cidr_blocks": ["0.0.0.0/0"],
              "description": "SSH access"
            },
            {
              "from_port": 80,
              "to_port": 80,
              "protocol": "tcp",
              "cidr_blocks": ["0.0.0.0/0"],
              "description": "HTTP access"
            },
            {
              "from_port": 443,
              "to_port": 443,
              "protocol": "tcp",
              "cidr_blocks": ["0.0.0.0/0"],
              "description": "HTTPS access"
            }
          ],
          "egress": [
            {
              "from_port": 0,
              "to_port": 0,
              "protocol": "-1",
              "cidr_blocks": ["0.0.0.0/0"]
            }
          ],
          "tags": {
            "Name": "web-sg",
            "Environment": "production"
          }
        },
        "after_unknown": {},
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_db_instance.main",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "before": null,
        "after": {
          "allocated_storage": 100,
          "engine": "postgres",
          "engine_version": "14.7",
          "instance_class": "db.t3.medium",
          "db_name": "myapp",
          "username": "admin",
          "publicly_accessible": true,
          "storage_encrypted": false,
          "backup_retention_period": 7,
          "multi_az": false,
          "tags": {
            "Name": "main-db",
            "Environment": "production"
          }
        },
        "after_unknown": {
          "password": true,
          "endpoint": true,
          "arn": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "password": true
        }
      }
    },
    {
      "address": "aws_s3_bucket.data",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "data",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "before": null,
        "after": {
          "bucket": "myapp-data-bucket",
          "acl": "public-read",
          "tags": {
            "Name": "data-bucket",
            "Environment": "production"
          }
        },
        "after_unknown": {
          "arn": true,
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy.lambda_exec",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "lambda_exec",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "before": null,
        "after": {
          "name": "lambda-exec-policy",
          "role": "lambda-exec-role",
          "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"*\",\"Resource\":\"*\"}]}"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_cloudtrail.main",
      "mode": "managed",
      "type": "aws_cloudtrail",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["delete"],
        "before": {
          "name": "main-trail",
          "s3_bucket_name": "cloudtrail-logs",
          "enable_logging": true,
          "is_multi_region_trail": true
        },
        "after": null,
        "after_unknown": {},
        "before_sensitive": false,
        "after_sensitive": false
      }
    }
  ]
}
